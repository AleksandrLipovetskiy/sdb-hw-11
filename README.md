# Домашнее задание к занятию «Базы данных, их типы»

## Задание 1. СУБД

Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?

1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков. СУБД должна гарантировать целостность и чёткую структуру данных.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы?

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? СУБД должны быть гибкими и быстрыми.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это реализовать?

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД логистов?

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

### ОТВЕТЫ на Задание 1. СУБД

1.1. В случае, когда необходимо гарантировать целостность и четкую структуру данных, лучщше всего подойдут реляционные базы данных (SQL). Например такие СУБД как PostgresSQL, Oracle и др. Реляционные базы данных обеспечивают строгие правила целостности данных с помощью ограничений (например, первичные и внешние ключи), а данные организованы в таблицы с четко определенными схемами, что упрощает их понимание и управление.  

1.1.* OpenSSL.

1.2. В случае, когда необходимо обеспечить сочетание гибкости и скорости, лучше всего подойдут NoSQL базы данных. NoSQL базы данных позволяют легко изменять структуру данных без необходимости миграции схемы, что полезно для динамически меняющихся данных лендингов. NoSQL базы данных часто обеспечивают более высокую скорость записи и чтения данных, что может быть критично для систем с высокой нагрузкой на ввод данных (например, при поступлении большого количества лидов).

1.2.* Думаю да, например MongoDB.

1.3. Тут подойдет документо-ориентированная БД - MongoDB.

1.3.* Подойдет MongoDB, но смысла использования бызы из п. 1.2.* нет, так как настроки баз требуются разные, например в случае п. 1.2.* нужно настроить принцип BASE, а в данном случае нужно ACID, так как спешки нет, а гарантия целостности данных важна.

1.4. В данном случае предпочтительнее будет иерархическая модель СУБД.

1.4.* Для них лучше сформировать свою СУБД в связке с СУБД логистов.

1.5.* Можно использовать NewSQL СУБД - которая обладает преимуществами реляционных СУБД, и совмещант в себе преимущества NoSQL.

## Задание 2. Транзакции  

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

### ОТВЕТЫ на Задание 2. Транзакции  

2.1.  
1. Идентификация пользователя
2. Выбор метода пополнения
3. Ввод суммы пополнения
4. Обработка платежа
5. Подтверждение транзакции
6. Обновление баланса и уведомление пользователя

2.2.  
1. Настройка автоплатежа
2. Мониторинг баланса
3. Автоматическое снятие средств
4. Перевод средств оператору связи
5. Обновление баланса
6. Уведомление пользователя

## Задание 3. SQL vs NoSQL  

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.  

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

### ОТВЕТЫ на Задание 3. SQL vs NoSQL  

3.1.  
1. Структурированность данных
2. Поддержка сложных запросов
3. Транзакционная целостность
4. Стандартные инструменты и поддержка
5. Сложные отношения между данными

3.2.*  
NewSQL обладает приимуществами как SQL так и NoSQL баз данных, за счет чего обладает преимуществом перед указанными.  

## Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.
На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?

### ОТВЕТЫ на Задание 4. Кластеры

При выборе СУБД нужно рассмотреть ряд критериев:

Тип данных:

   • Если данные структурированы, можно рассмотреть реляционные СУБД (например, PostgreSQL, MySQL).

   • Для неструктурированных или полуструктурированных данных лучше подойдут NoSQL решения (например, MongoDB, Cassandra).

Объем данных:

   • СУБД должна поддерживать горизонтальное масштабирование. NoSQL базы данных обычно лучше справляются с большими объемами данных и высокой нагрузкой.

Скорость чтения и записи:

   • Если требуется высокая скорость обработки запросов, стоит обратить внимание на базы данных, оптимизированные для этого, например, Redis (для кэширования) или Cassandra (для больших объемов записей).

Консистентность и доступность:

   • Необходимо определить, насколько критична консистентность данных. Для приложений, где важна строгость данных, реляционные СУБД могут быть предпочтительнее. Для приложений с высокой доступностью и гибкостью в консистентности можно выбрать NoSQL.

Поддержка распределённых вычислений:

   • Некоторые СУБД имеют встроенные механизмы для поддержки распределённых вычислений (например, Apache HBase или Google Bigtable).

Также с учетом ряда особенностей, возможно определиться с моделью распределённых вычислений:

MapReduce:

   • Подходит для обработки больших объемов данных, разбивая задачи на более мелкие подзадачи. Эта модель хорошо работает с Hadoop и HDFS и позволяет обрабатывать данные параллельно на множестве машин.

Spark:

   • Apache Spark является более современной альтернативой MapReduce. Он обеспечивает более высокую скорость обработки благодаря хранению промежуточных данных в памяти и поддерживает различные типы вычислений (batch processing, streaming, machine learning). Spark хорошо интегрируется с различными СУБД и источниками данных.

Dask:

   • Это библиотека для параллельных вычислений в Python, которая может использоваться для обработки больших массивов данных. Dask позволяет легко масштабировать вычисления от одного компьютера до кластера из множества машин.

Таким образом, если данные структурированы и требуют ACID-свойств, предпочтительнее использование реляционной СУБД с поддержкой распределенных вычислений. Если данные неструктурированные или полуструктурированные, необходимо NoSQL решение. Модель распределённых вычислений: Apache Spark будет хорошим выбором благодаря своей гибкости и высокой производительности в обработке больших объемов данных. Он поддерживает различные форматы данных и имеет множество библиотек для анализа и обработки данных.
